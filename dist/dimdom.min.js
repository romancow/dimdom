/**
 * @license
 * DimDom JavaScript Library v0.4.2-beta.1
 * https://github.com/romancow/dimdom
 *
 * Copyright 2016 Data Concepts, Inc.
 * Released under the MIT license
 * https://raw.githubusercontent.com/romancow/dimdom/master/LICENSE.txt
 *
 * Date: 2016-09-28T22:00Z
 */
(function(){var DimDom,DimDomCollection,DimDomItem,DimDomNamespaces,ensureArray,exports,isObject,isString,mergeInto,slice=[].slice,hasProp={}.hasOwnProperty,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child};isString=function(val){return"string"==typeof val||val instanceof String},isObject=function(val){return null!=val&&"object"==typeof val&&!Array.isArray(val)},ensureArray=function(val){return null==val?[]:Array.isArray(val)?val:[val]},mergeInto=function(){var i,item,items,key,len,obj,val;for(obj=arguments[0],items=2<=arguments.length?slice.call(arguments,1):[],i=0,len=items.length;i<len;i++){item=items[i];for(key in item)hasProp.call(item,key)&&(val=item[key],obj[key]=val)}return obj},DimDom=function(){function DimDom(getNodes){null==getNodes&&(getNodes=function(){return[]}),this._getNodes=getNodes}return DimDom.prototype.create=function(document){var fragment,i,len,node,nodes;for(fragment=document.createDocumentFragment(),nodes=ensureArray(this._getNodes.call(this,document)),i=0,len=nodes.length;i<len;i++)node=nodes[i],fragment.appendChild(node);return fragment},DimDom.prototype.appendTo=function(node){var fragment;return fragment=this.create(node.ownerDocument),node.appendChild(fragment),this},DimDom}(),DimDomItem=function(superClass){function DimDomItem(name,attributes,styles,children){var namespace,ref;DimDomItem.__super__.constructor.call(this,this.toNode),ref=findConstructorArgs(name,attributes,styles,children),namespace=ref[0],name=ref[1],attributes=ref[2],styles=ref[3],this._children=ref[4],Object.defineProperties(this,{namespace:{value:namespace},name:{value:name},attributes:{value:attributes},styles:{value:styles},children:{value:this._children.items}})}var findConstructorArgs,isChildren;return extend(DimDomItem,superClass),DimDomItem.prototype.toNode=function(document){var childNode,childrenNodes,hasPrefix,i,len,name,node,ns,prefix,ref,ref1,ref2,ref3,value;node=null!=this.namespace?document.createElementNS(this.namespace,this.name):document.createElement(this.name),ref=this.attributes;for(name in ref)hasProp.call(ref,name)&&(value=ref[name],null!=value&&(ref1=name.split(":",2),prefix=ref1[0],hasPrefix=ref1[1],null!=hasPrefix?(ns=null!=(ref2=DimDomNamespaces.NSPrefix[prefix])?ref2:"",node.setAttributeNS(ns,name,value)):node.setAttribute(name,value)));ref3=this.styles;for(name in ref3)hasProp.call(ref3,name)&&(value=ref3[name],null!=value&&(node.style[name]=value));for(childrenNodes=this._children.toNodes(document),i=0,len=childrenNodes.length;i<len;i++)childNode=childrenNodes[i],null!=childNode&&node.appendChild(childNode);return node},findConstructorArgs=function(name,attributes,styles,children){var namespace,ref,ref1,ref2,ref3;if(null==attributes&&(attributes={}),null==children&&(children=[]),Array.isArray(name)&&(ref=name,namespace=ref[0],name=ref[1]),!isString(name))throw new TypeError('DimDom name must be a string, not "'+typeof name+'"');if(null!=namespace&&!isString(namespace))throw new TypeError('DimDom namespace must be a string, not "'+typeof namespace+'"');return isChildren(attributes)?(ref1=[{},attributes],attributes=ref1[0],children=ref1[1]):isChildren(styles)&&(ref2=[null,styles],styles=ref2[0],children=ref2[1]),null==styles&&(styles=null!=(ref3=attributes.styles)?ref3:{},delete attributes.styles),children instanceof DimDomCollection||(children=new DimDomCollection(children)),[namespace,name,attributes,styles,children]},isChildren=function(val){return null!=val&&(val instanceof DimDom||val instanceof Node||val instanceof DimDomCollection||!isObject(val))},DimDomItem}(DimDom),function(){var abbr,i,len,ns,ref,results;for(this.NS={HTML:"http://www.w3.org/1999/xhtml",SVG:"http://www.w3.org/2000/svg",MathML:"http://www.w3.org/1998/Math/MathML",XLink:"http://www.w3.org/1999/xlink",XMLNS:"http://www.w3.org/2000/xmlns/"},this.NSPrefix={xlink:this.NS.XLink,xmlns:this.NS.XMLNS},ref=["HTML","SVG","MathML"],results=[],i=0,len=ref.length;i<len;i++)abbr=ref[i],ns=this.NS[abbr],results.push(this[abbr]=function(superClass){function _Class(name,attributes,styles,children){_Class.__super__.constructor.call(this,[namespace,name],attributes,styles,children)}var namespace;return extend(_Class,superClass),namespace=ns,_Class}(DimDomItem));return results}.call(DimDomNamespaces={}),DimDomCollection=function(superClass){function DimDomCollection(items){DimDomCollection.__super__.constructor.call(this,this.toNodes),Object.defineProperties(this,{items:{value:ensureArray(items)}})}return extend(DimDomCollection,superClass),DimDomCollection.prototype.toNodes=function(document){var i,item,len,ref,results;for(ref=this.items,results=[],i=0,len=ref.length;i<len;i++)item=ref[i],item instanceof DimDomItem?results.push(item.toNode(document)):item instanceof DimDomCollection?results.push(item.create(document)):item instanceof Node?results.push(item):results.push(document.createTextNode(item));return results},DimDomCollection}(DimDom),exports=mergeInto(DimDomItem,DimDomNamespaces,{Collection:DimDomCollection}),null!=("undefined"!=typeof module&&null!==module?module.exports:void 0)?module.exports=exports:this.DimDom=exports}).call(this);